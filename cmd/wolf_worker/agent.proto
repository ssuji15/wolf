syntax = "proto3";

package agent;

option go_package = "agent/";

service WorkerAgent {
  rpc StartJob(JobRequest) returns (stream CodeExecutionOutput);
}

message JobRequest {
  string engine = 1;
  string code = 2;
}

message CodeExecutionOutput {
  enum Stream {
    STDOUT = 0;
    STDERR = 1;
  }

  Stream stream = 1;
  bytes data = 2;

}